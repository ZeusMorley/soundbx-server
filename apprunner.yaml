version: 1.0
runtime: nodejs22
build:
  commands:
    build:
      - rm -rf node_modules package-lock.json
      - npm install
      - npm run build
run:
  command: npm start
  network:
    port: 3000
  secrets:
    - name: CLIENT_ID_SPOTIFY
      value-from: arn:aws:secretsmanager:ap-southeast-2:333372137379:secret:spotify-client-id-EoazAX
    - name: CLIENT_SECRET_SPOTIFY
      value-from: arn:aws:secretsmanager:ap-southeast-2:333372137379:secret:spotify-client-secret-vsdJVc